(function(d,c){var b=["png","gif","jpg","jpeg","bmp"];var a=[];changeImage=function(f,e){d("#"+f).attr("src",e)};makeWinObj=function(i,h,g,k,j,f,e){if(e=="toolbar"){e="scrollbars=yes,toolbar=yes"}else{if(e=="empty"){e="scrollbars=no,toolbar=no"}else{e="scrollbars=yes,toolbar=no"+e}}this.name=i;this.url=h;this.obj=window.open(h,i,"width="+j+",height="+f+","+e);this.obj.moveTo(g,k);this.obj.focus()};closeAll=function(){for(var e in a){a[e].obj.close()}};newWindow=function(h,k,j,g,i){if(j===0){j=550}if(g===0){g=400}var f=i;if(i=="scrollbars"){f="toolbar"}else{if(i=="empty"){f="empty"}}var e,l;if(i=="nav"){e=parseInt(screen.width/2,10)-390;l=parseInt(screen.height/2,10)-314;j=320;g=580}else{if(i=="content"){e=parseInt(screen.width/2,10)-60;l=parseInt(screen.height/2,10)-314;j=470;g=580}else{e=parseInt((screen.width-j)/2,10);l=parseInt((screen.height-g)/2,10)-24}}a.push(new makeWinObj(h,k,e,l,j,g,f))};newPoolWindow=function(e){newWindow("rexmediapopup",e,760,600,",status=yes,resizable=yes")};newLinkMapWindow=function(e){newWindow("linkmappopup",e,760,600,",status=yes,resizable=yes")};openMediaDetails=function(g,f,e){if(g===c){g=""}newPoolWindow("index.php?page=mediapool&subpage=detail&opener_input_field="+g+"&file_id="+f+"&file_category_id="+e)};openMediaPool=function(e){if(e===c){e=""}newPoolWindow("index.php?page=mediapool&opener_input_field="+e)};openREXMedia=function(h,g){var e="REX_MEDIA_"+h;var f=d("#"+e).val();if(g===c){g=""}if(f){g+="&subpage=detail&file_name="+f}newPoolWindow("index.php?page=mediapool"+g+"&opener_input_field="+e)};deleteREXMedia=function(e){d("#REX_MEDIA_"+e).val("")};addREXMedia=function(f,e){if(e===c){e=""}newPoolWindow("index.php?page=mediapool&subpage=upload&opener_input_field=REX_MEDIA_"+f+e)};openLinkMap=function(f,e){if(f===c){f=""}if(e===c){e=""}newLinkMapWindow("index.php?page=linkmap&opener_input_field="+f+e)};setValue=function(f,e){d("#"+f).val(e)};setAllCheckBoxes=function(f,e){jQuery("input[name='"+f+"']").prop("checked",e.checked)};deleteREXLink=function(e){d("#LINK_"+e).val("");d("#LINK_"+e+"_NAME").val("")};openREXMedialist=function(h){var f="REX_MEDIALIST_"+h;var e=d("#REX_MEDIALIST_SELECT_"+h+" option:selected");var g="";if(e.length>0){g="&action=media_details&file_name="+e.val()}else{if(g===c){g=""}}newPoolWindow("index.php?page=mediapool"+g+"&opener_input_field="+f)};addREXMedialist=function(f,e){if(e===c){e=""}newPoolWindow("index.php?page=mediapool&subpage=upload&opener_input_field=REX_MEDIALIST_"+f+e)};deleteREXMedialist=function(e){deleteREX(e,"REX_MEDIALIST_","REX_MEDIALIST_SELECT_")};moveREXMedialist=function(f,e){moveREX(f,"REX_MEDIALIST_","REX_MEDIALIST_SELECT_",e)};writeREXMedialist=function(e){writeREX(e,"REX_MEDIALIST_","REX_MEDIALIST_SELECT_")};openREXLinklist=function(h,g){var f="REX_LINKLIST_"+h,e=d("#REX_LINKLIST_SELECT_"+h+" option:selected");if(e.length>0){g="&action=link_details&file_name="+e.val()}else{if(g===c){g=""}}newLinkMapWindow("index.php?page=linkmap&opener_input_field="+f+g)};deleteREXLinklist=function(e){deleteREX(e,"REX_LINKLIST_","REX_LINKLIST_SELECT_")};moveREXLinklist=function(f,e){moveREX(f,"REX_LINKLIST_","REX_LINKLIST_SELECT_",e)};writeREXLinklist=function(e){writeREX(e,"REX_LINKLIST_","REX_LINKLIST_SELECT_")};deleteREX=function(j,f,i){var g=d("#"+i+j),e=d("option:selected",g).index();if(e==-1){return}d("option:eq("+e+")",g).remove();var h=d("option",g).length;if(h>=1){if(h<=e){e--}d("#"+i+j+" option:eq("+e+")").prop("selected",true)}writeREX(j,f,i)};moveREX=function(j,e,i,h){var g=d("#"+i+j),f=d("option:selected",g);if(!f.length){return}if(h=="top"){g.prepend(f)}else{if(h=="up"){d(f).prev().insertAfter(f)}else{if(h=="down"){d(f).next().insertBefore(f)}else{if(h=="bottom"){g.append(f)}}}}writeREX(j,e,i)};writeREX=function(i,g,f){var e=d("#"+g+i),h=[];d("#"+f+i+" option").each(function(){h.push(d(this).val())});e.val(h.join(","))};moveItem=function(e,i,h){if(i==h||h<0){return e}var g=e[i],f=i;if(i>h){for(;f>h;f--){e[f]=e[f-1]}}else{for(;f<h;f++){e[f]=e[f+1]}}e[h]=g;return e};checkInput=function(e){d("#"+e).prop("checked",true)};rexShowMediaPreview=function(){var g;if(d(this).hasClass("rex-widget-media")){g=d("input[type=text]",this).val()}else{g=d("select option:selected",this).text()}var h=d(".rex-media-preview",this);var f="../imageresize/246a__"+g;if(g&&g.length!=0&&d.inArray(extension,b)){var e=d("img",h);if(e.length==0){h.html("<img />");e=d("img",h)}e.attr("src",f);if(h.css("height")=="auto"){h.fadeIn("normal")}}else{h.slideUp("fast")}};sly_disableLogin=function(f){var e=parseInt(f.html(),10)-1;f.html(e+"");if(e>0){setTimeout(sly_disableLogin,1000,f)}else{d("div.rex-message p span").html(d("#loginformular").data("message"));d("#loginformular input:not(:hidden)").prop("disabled",false);d("#rex_user_login").focus()}};sly_startLoginTimer=function(f){var e=d("div.rex-message p span strong");if(e.length==1){d("#loginformular input:not(:hidden)").prop("disabled",true);d("#loginformular").data("message",f);setTimeout(sly_disableLogin,1000,e)}};sly_catsChecked=function(){var e=d("#userperm_cat_all").prop("checked");var f=d("#userperm_media_all").prop("checked");var g=d("#rex-page-user .sly-form .rex-form-wrapper .sly-num7");d("#userperm_cat").prop("disabled",e);d("#userperm_media").prop("disabled",f);if(e&&f){g.slideUp("slow")}else{g.slideDown("slow")}},sly_addListOption=function(h,g,e){var f=d("select",h);if(f.find("option[value='"+e+"']").length==0){f.append(d("<option>").val(e).text(g));sly_createList(f)}},sly_moveListItem=function(i){var h=d(this),f=h.parents("span.sly-widget"),j=d("select",f),g=h.attr("rel"),e=d("option:selected",j);if(e){switch(g){case"up":e.insertBefore(e.prev());break;case"down":e.insertAfter(e.next());break;case"top":e.detach();j.prepend(e);break;case"bottom":e.detach();j.append(e);break}sly_createList(j)}return false},sly_createList=function(j){var h=[],f=d("option",j),e=f.length,g=0;for(;g<e;++g){h.push(f[g].value)}j.parents("span").find("input[type=hidden]").val(h.join(","))}})(jQuery);jQuery(function(e){e("table.rex-table").delegate("a.sly-delete, input.sly-button-delete","click",function(){var h=e(this).parents("table");var g=h.attr("rel");if(!g){g="LÃ¶schen?"}return confirm(g)});e(".sly-table-extras-filter input[class^=filter_input_]").keyup(function(k){var i=e(this).attr("class"),h=i.replace("filter_input_",""),j=e("#"+h),l=k.keyCode;e("input."+i).val(e(this).val());k.preventDefault();if(l==8||l==46||l==109||l==189||(l>=65&&l<=90)||(l>=48&&l<=57)){var g=new RegExp(e(this).val(),"i");e("tbody tr",j).each(function(){var m=e(this);e("td",m).filter(function(){return g.test(e(this).text())}).length?m.show():m.hide()})}});e("a.sly-blank").attr("target","_blank");e(".rex-widget-medialist.rex-widget-preview").click(rexShowMediaPreview);e(".rex-widget-media.rex-widget-preview, .rex-widget-medialist.rex-widget-preview").bind("mousemove",rexShowMediaPreview).bind("mouseleave",function(){var g=e(".rex-media-preview",this);if(g.css("height")!="auto"){g.slideUp("normal")}});e("#rex-navi-page-mediapool a").click(function(){newPoolWindow("index.php?page=mediapool");return false});if(e("#rex-form-login").length>0){e("#rex-form-login").focus();e("#javascript").val("1")}if(e("#rex-page-user .sly-form").length>0){var f=e("#rex-page-user .sly-form .rex-form-wrapper");var c=f.find(".sly-num6,.sly-num7");e("#is_admin").change(function(){if(e(this).is(":checked")){e("#userperm_module").prop("disabled",true);c.slideUp("slow")}else{e("#userperm_module").prop("disabled",false);c.slideDown("slow");sly_catsChecked()}});sly_catsChecked();e("#userperm_cat_all, #userperm_media_all").change(sly_catsChecked);if(e("#is_admin").is(":checked")){e("#userperm_module").prop("disabled",true);c.hide()}if(e("#userperm_cat_all").is(":checked")&&e("#userperm_media_all").is(":checked")){f.find(".sly-num7").hide()}}e(".rex-form .sly-select-checkbox-list a").live("click",function(){var g=e(this).attr("rel");var h=e(this).parents("p").find(".rex-chckbx");h.prop("checked",g==="all");return false});var a=Modernizr.inputtypes;for(var b in a){if(a.hasOwnProperty(b)&&a[b]){e("input[type="+b+"]").addClass("ua-supported")}}e("input[type=range]:not(.ua-supported)").each(function(){var g=e(this);var h=e("<div></div>").attr("id",g.attr("id")+"-slider");var i=e('<input type="hidden" value="" />');g.after(i);i.val(g.val()).attr("name",g.attr("name")).attr("id",g.attr("id"));g.after(h);h.addClass("sly-slider").slider({min:g.attr("min"),max:g.attr("max"),value:g.val(),change:function(j){i.val(h.slider("value"))}});g.remove()});e(".rex-form-row.sly-form-multilingual").each(function(){var k=e(this),i=k.is(":visible"),l=k.attr("rel"),j=i?' checked="checked"':"",h='<span class="sly-form-i18n-switch"><input type="checkbox" name="equal__'+l+'" id="equal__'+l+'" value="1"'+j+" /></span>";if(i){e("label:first",this).after(h)}else{var g=k.next("div.sly-form-i18n-container");e("label:first",g).after(h)}});var d=e(".sly-form-i18n-switch input[id^=equal__]");if(d.length>0){d.imgCheckbox("off.png","on.png","assets/form-i18n-switch-").next().click(function(){var k=e(this).prev("input"),j=!k[0].checked,l=k.attr("id").replace(/^equal__/,""),h=e('div[rel="'+l+'"]'),i=k.parent("span"),g=e("div.sly-form-i18n-container.c-"+l);if(j){h.hide();g.show();e("label:first",g).after(i)}else{h.show();g.hide();e("label:first",h).after(i)}})}if(e.fn.autocomplete){e(".sly-link-filter").autocomplete({url:"index.php",paramName:"q",extraParams:{page:"api",func:"linklistbutton_search"},maxCacheLength:50,matchContains:true,resultsClass:"sly-filter-results",showResult:function(h,g){return'<span class="name"><strong>'+h+'</strong></span><br/><span class="cat">'+g[1]+"</span>"},onItemSelect:function(i){var g=e("input:focus"),h=g.parents(".sly-widget");sly_addListOption(h,i.value,i.data[0]);g.val("")}})}e("select.sly-linklist").bind("keydown","del",function(){var h=e("option:selected",e(this));var g=h.next();h.remove();g.prop("selected",true);sly_createList(e(this))});e("body").delegate(".sly-linklistbutton .sly-icons a[rel]","click",sly_moveListItem);e(".sly-module-select").change(function(){e(this).closest("form").submit()})});