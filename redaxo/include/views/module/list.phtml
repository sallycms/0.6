<?php
/*
 * Copyright (c) 2010, webvariants GbR, http://www.webvariants.de
 *
 * This file is released under the terms of the MIT license. You can find the
 * complete text in the attached LICENSE file or online at:
 *
 * http://www.opensource.org/licenses/mit-license.php
 */

global $REX;

$base   = 'index.php?page=module&amp;func=';
$thIcon = '<a href="'.$base.'add"><img class="sly-icon sly-sprite sly-module-add" alt="" src="media/empty.png" title="'.$I18N->msg('create_module').'" /></a>';
$table  = new sly_Table('modules');

$table->addColumn(new sly_Table_Column($thIcon, '', '', array('class' => 'rex-icon')));
$table->addColumn(new sly_Table_Column('ID', '25px'));
$table->addColumn(new sly_Table_Column($I18N->msg('module_description')));
$table->addColumn(new sly_Table_Column($I18N->msg('module_functions'), '80px'));

$table->setIsEmpty(empty($modules));
$table->setEmptyNotice($I18N->msg('modules_not_found'));

$table->renderHeader(count($modules));

$tdIcon = '';

foreach ($modules as $module) {
	$id = (int) $module->getId();

	?>
	<tr>
		<td class="sly-col-a sly-icon">
			<a href="<?= $base ?>edit&amp;id=<?= $id ?>">
				<img src="media/empty.png" class="sly-icon sly-sprite sly-module" alt="" title="<?= sly_html($module->getName()) ?>" />
			</a>
		</td>
		<td class="sly-col-b sly-center"><?= $id ?></td>
		<td class="sly-col-c"><a href="<?= $base ?>edit&amp;id=<?= $id ?>"><?= sly_html($module->getName()) ?></a></td>
		<td class="sly-col-d"><a class="sly-action sly-delete" href="<?= $base ?>delete&amp;id=<?= $id ?>">LÃ¶schen</a></td>
	</tr>
	<?
}

$table->renderFooter();
