var redaxo=true,sally=true;jQuery.noConflict();
(function(c){pageloaded=false;imageExtensions=["png","gif","jpg","jpeg","bmp"];changeImage=function(a,b){c("#"+a).attr("src",b)};makeWinObj=function(a,b,e,f,g,h,i){i=i=="toolbar"?"scrollbars=yes,toolbar=yes":i=="empty"?"scrollbars=no,toolbar=no":"scrollbars=yes,toolbar=no"+i;this.name=a;this.url=b;this.obj=window.open(b,a,"width="+g+",height="+h+","+i);this.obj.moveTo(e,f);this.obj.focus()};closeAll=function(){for(var a in winObj)winObj[a].obj.close()};newWindow=function(a,b,e,f,g){if(e==0)e=550;
if(f==0)f=400;extra=g=="scrollbars"?"toolbar":g=="empty"?"empty":g;if(g=="nav"){posx=parseInt(screen.width/2)-390;posy=parseInt(screen.height/2)-314;e=320;f=580}else if(g=="content"){posx=parseInt(screen.width/2)-60;posy=parseInt(screen.height/2)-314;e=470;f=580}else{posx=parseInt((screen.width-e)/2);posy=parseInt((screen.height-f)/2)-24}winObj.push(new makeWinObj(a,b,posx,posy,e,f,extra))};winObj=[];newPoolWindow=function(a){newWindow("rexmediapopup",a,760,600,",status=yes,resizable=yes")};newLinkMapWindow=
function(a){newWindow("linkmappopup",a,760,600,",status=yes,resizable=yes")};openMediaDetails=function(a,b,e){if(typeof a=="undefined")a="";newPoolWindow("index.php?page=mediapool&subpage=detail&opener_input_field="+a+"&file_id="+b+"&file_category_id="+e)};openMediaPool=function(a){if(typeof a=="undefined")a="";newPoolWindow("index.php?page=mediapool&opener_input_field="+a)};openREXMedia=function(a,b){a="REX_MEDIA_"+a;var e=c("#"+a).val();if(typeof b=="undefined")b="";if(e)b+="&subpage=detail&file_name="+
e;newPoolWindow("index.php?page=mediapool"+b+"&opener_input_field="+a)};deleteREXMedia=function(a){c("REX_MEDIA_"+a).val()};addREXMedia=function(a,b){if(typeof b=="undefined")b="";newPoolWindow("index.php?page=mediapool&action=media_upload&subpage=add_file&opener_input_field=REX_MEDIA_"+a+b)};openLinkMap=function(a,b){if(typeof a=="undefined")a="";if(typeof b=="undefined")b="";newLinkMapWindow("index.php?page=linkmap&opener_input_field="+a+b)};setValue=function(a,b){c("#"+a).val(b)};setAllCheckBoxes=
function(a,b){jQuery("input[name="+a+"]").attr("checked",b.checked?"checked":"")};deleteREXLink=function(a){c("LINK_"+a).val("");c("LINK_"+a+"_NAME").val("")};openREXMedialist=function(a){var b="REX_MEDIALIST_"+a;a=c("#REX_MEDIALIST_SELECT_"+a+" option:selected");if(a.length>0)param="&action=media_details&file_name="+a.val();else if(typeof param=="undefined")param="";newPoolWindow("index.php?page=mediapool"+param+"&opener_input_field="+b)};addREXMedialist=function(a,b){if(typeof b=="undefined")b=
"";newPoolWindow("index.php?page=mediapool&action=media_upload&subpage=add_file&opener_input_field=REX_MEDIALIST_"+a+b)};deleteREXMedialist=function(a){deleteREX(a,"REX_MEDIALIST_","REX_MEDIALIST_SELECT_")};moveREXMedialist=function(a,b){moveREX(a,"REX_MEDIALIST_","REX_MEDIALIST_SELECT_",b)};writeREXMedialist=function(a){writeREX(a,"REX_MEDIALIST_","REX_MEDIALIST_SELECT_")};openREXLinklist=function(a,b){var e="REX_LINKLIST_"+a;a=c("#REX_LINKLIST_SELECT_"+a+" option:selected");if(a.length>0)b="&action=link_details&file_name="+
a.val();else if(typeof b=="undefined")b="";newLinkMapWindow("index.php?page=linkmap&opener_input_field="+e+b)};deleteREXLinklist=function(a){deleteREX(a,"REX_LINKLIST_","REX_LINKLIST_SELECT_")};moveREXLinklist=function(a,b){moveREX(a,"REX_LINKLIST_","REX_LINKLIST_SELECT_",b)};writeREXLinklist=function(a){writeREX(a,"REX_LINKLIST_","REX_LINKLIST_SELECT_")};deleteREX=function(a,b,e){var f=c("#"+b+a+" option"),g=f.length,h=f.filter(":selected").index();if(h!=-1){f[h]=null;g--;if(h==0){if(g>0)f[0].selected=
"selected"}else if(g>h)f[h].selected="selected";else f[h-1].selected="selected";writeREX(a,b,e)}};moveREX=function(a,b,e,f){for(var g=c("#"+e+a+" option"),h=[],i=[],d=0;d<g.length;++d){i[d]=false;h[d]={value:g[d].value,title:g[d].text}}var j=0,k=[];k[-1]=true;k[g.length]=true;if(f=="top")for(d=0;d<g.length;++d)if(g[d].selected){h=moveItem(h,d,j);i[j]=true;j++}if(f=="up")for(d=0;d<g.length;++d){k[d]=false;if(g[d].selected){to=d-1;if(k[to])to=d;h=moveItem(h,d,to);i[to]=true;k[to]=true}}if(f=="down")for(d=
g.length-1;d>=0;--d){k[d]=false;if(g[d].selected){to=d+1;if(k[to])to=d;h=moveItem(h,d,to);i[to]=true;k[to]=true}}if(f=="bottom"){j=0;f=g.length;for(d=f-1;d>=0;--d)if(g[d].selected){to=f-j-1;if(to>f)to=f;h=moveItem(h,d,to);i[to]=true;j++}}j=c("#"+e+a)[0];for(d=0;d<g.length;++d){console.log(g[d]);j.options[d]=new Option(h[d].title,h[d].value);j.options[d].selected=i[d]}writeREX(a,b,e)};writeREX=function(a,b,e){e=c("#"+e+a+" option");a=c("#"+b+a);b=[];for(var f=0;f<e.length;++f)b.push(e[f].text);a.val(b.join(","))};
moveItem=function(a,b,e){if(b==e||e<0)return a;tmp=a[b];if(b>e)for(index=b;index>e;index--)a[index]=a[index-1];else for(index=b;index<e;index++)a[index]=a[index+1];a[e]=tmp;return a};checkInput=function(a){c("#"+a).attr("checked","checked")};rexShowMediaPreview=function(){var a;a=c(this).hasClass("rex-widget-media")?c("input[type=text]",this).val():c("select option:selected",this).text();var b=c(".rex-media-preview",this),e="../index.php?rex_resize=246a__"+a;if(a&&a.length!=0&&c.inArray(extension,
imageExtensions)){a=c("img",b);if(a.length==0){b.html("<img />");a=c("img",b)}a.attr("src",e);b.css("height")=="auto"&&b.fadeIn("normal")}else b.slideUp("fast")};sly_disableLogin=function(a){var b=parseInt(a.html(),10)-1;a.html(b+"");if(b>0)setTimeout(sly_disableLogin,1E3,a);else{c("div.rex-message p span").html(c("#login_message").text());c("#loginformular input:not(:hidden)").attr("disabled","");c("#rex-form-login").focus()}};sly_startLoginTimer=function(){var a=c("div.rex-message p span strong");
if(a.length==1){c("#loginformular input:not(:hidden)").attr("disabled","disabled");setTimeout(sly_disableLogin,1E3,a)}};sly_catsChecked=function(){var a=c("#allcats").is(":checked"),b=c("#allmcats").is(":checked");c("#userperm-cat").attr("disabled",a?"disabled":"");c("#userperm-media").attr("disabled",b?"disabled":"");a&&b?c("#cats_mcats_perms").slideUp("slow"):c("#cats_mcats_perms").slideDown("slow")}})(jQuery);
jQuery(function(c){pageloaded=true;c("#rex-form-mediapool-media .sly-button-delete").click(function(){if(confirm(c(this).attr("rel")+"?"))c("#media_method").val("delete_selectedmedia");else return false});c("#rex-form-mediapool-media .sly-button-changecat").click(function(){c("#media_method").val("updatecat_selectedmedia")});c("table.rex-table").delegate("a.sly-delete","click",function(){var a=c(this).parents("table").attr("rel");a||(a="L\u00f6schen?");return confirm(a)});c("a.sly-blank").attr("target",
"_blank");c(".rex-widget-medialist.rex-widget-preview").click(rexShowMediaPreview);c(".rex-widget-media.rex-widget-preview, .rex-widget-medialist.rex-widget-preview").bind("mousemove",rexShowMediaPreview).bind("mouseleave",function(){var a=c(".rex-media-preview",this);a.css("height")!="auto"&&a.slideUp("normal")});c("#rex-navi-page-mediapool a").click(function(){newPoolWindow("index.php?page=mediapool");return false});if(c("#rex-form-login").length>0){c("#rex-form-login").focus();c("#javascript").val("1")}if(c("#rex-page-user #rex-form-user-editmode")){c("#useradmin").click(function(){if(c(this).is(":checked")){c("#userperm-module").attr("disabled",
"disabled");c("#cats_mcats_perms").slideUp("slow");c("#cats_mcats_box").slideUp("slow")}else{c("#userperm-module").attr("disabled","");c("#cats_mcats_box").slideDown("slow");sly_catsChecked()}});c("#allmcats, #allcats").click(function(){sly_catsChecked()});if(c("#useradmin").is(":checked")){c("#userperm-module").attr("disabled","disabled");c("#cats_mcats_perms").hide();c("#cats_mcats_box").hide()}c("#allcats").is(":checked")&&c("#allmcats").is(":checked")&&c("#cats_mcats_perms").hide()}});
