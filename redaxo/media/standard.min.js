var redaxo=true;jQuery.noConflict();
(function(e){pageloaded=false;imageExtensions=["png","gif","jpg","jpeg","bmp"];changeImage=function(a,b){e("#"+a).attr("src",b)};makeWinObj=function(a,b,d,g,f,h,i){i=i=="toolbar"?"scrollbars=yes,toolbar=yes":i=="empty"?"scrollbars=no,toolbar=no":"scrollbars=yes,toolbar=no"+i;this.name=a;this.url=b;this.obj=window.open(b,a,"width="+f+",height="+h+","+i);this.obj.moveTo(d,g);this.obj.focus()};closeAll=function(){for(var a in winObj)winObj[a].obj.close()};newWindow=function(a,b,d,g,f){if(d==0)d=550;
if(g==0)g=400;extra=f=="scrollbars"?"toolbar":f=="empty"?"empty":f;if(f=="nav"){posx=parseInt(screen.width/2)-390;posy=parseInt(screen.height/2)-314;d=320;g=580}else if(f=="content"){posx=parseInt(screen.width/2)-60;posy=parseInt(screen.height/2)-314;d=470;g=580}else{posx=parseInt((screen.width-d)/2);posy=parseInt((screen.height-g)/2)-24}winObj.push(new makeWinObj(a,b,posx,posy,d,g,extra))};winObj=[];newPoolWindow=function(a){newWindow("rexmediapopup",a,760,600,",status=yes,resizable=yes")};newLinkMapWindow=
function(a){newWindow("linkmappopup",a,760,600,",status=yes,resizable=yes")};openMediaDetails=function(a,b,d){if(typeof a=="undefined")a="";newPoolWindow("index.php?page=mediapool&subpage=detail&opener_input_field="+a+"&file_id="+b+"&file_category_id="+d)};openMediaPool=function(a){if(typeof a=="undefined")a="";newPoolWindow("index.php?page=mediapool&opener_input_field="+a)};openREXMedia=function(a,b){a="REX_MEDIA_"+a;var d=e("#"+a).val();if(typeof b=="undefined")b="";if(d)b+="&subpage=detail&file_name="+
d;newPoolWindow("index.php?page=mediapool"+b+"&opener_input_field="+a)};deleteREXMedia=function(a){e("REX_MEDIA_"+a).val()};addREXMedia=function(a,b){if(typeof b=="undefined")b="";newPoolWindow("index.php?page=mediapool&action=media_upload&subpage=add_file&opener_input_field=REX_MEDIA_"+a+b)};openLinkMap=function(a,b){if(typeof a=="undefined")a="";if(typeof b=="undefined")b="";newLinkMapWindow("index.php?page=linkmap&opener_input_field="+a+b)};setValue=function(a,b){e("#"+a).val(b)};setAllCheckBoxes=
function(a,b){jQuery("input[name="+a+"]").attr("checked",b.checked?"checked":"")};deleteREXLink=function(a){e("LINK_"+a).val("");e("LINK_"+a+"_NAME").val("")};openREXMedialist=function(a){var b="REX_MEDIALIST_"+a;a=e("#REX_MEDIALIST_SELECT_"+a+" option:selected");if(a.length>0)param="&action=media_details&file_name="+a.val();else if(typeof param=="undefined")param="";newPoolWindow("index.php?page=mediapool"+param+"&opener_input_field="+b)};addREXMedialist=function(a,b){if(typeof b=="undefined")b=
"";newPoolWindow("index.php?page=mediapool&action=media_upload&subpage=add_file&opener_input_field=REX_MEDIALIST_"+a+b)};deleteREXMedialist=function(a){deleteREX(a,"REX_MEDIALIST_","REX_MEDIALIST_SELECT_")};moveREXMedialist=function(a,b){moveREX(a,"REX_MEDIALIST_","REX_MEDIALIST_SELECT_",b)};writeREXMedialist=function(a){writeREX(a,"REX_MEDIALIST_","REX_MEDIALIST_SELECT_")};openREXLinklist=function(a,b){var d="REX_LINKLIST_"+a;a=e("#REX_LINKLIST_SELECT_"+a+" option:selected");if(a.length>0)b="&action=link_details&file_name="+
a.val();else if(typeof b=="undefined")b="";newLinkMapWindow("index.php?page=linkmap&opener_input_field="+d+b)};deleteREXLinklist=function(a){deleteREX(a,"REX_LINKLIST_","REX_LINKLIST_SELECT_")};moveREXLinklist=function(a,b){moveREX(a,"REX_LINKLIST_","REX_LINKLIST_SELECT_",b)};writeREXLinklist=function(a){writeREX(a,"REX_LINKLIST_","REX_LINKLIST_SELECT_")};deleteREX=function(a,b,d){var g=e("#"+b+a+" option"),f=g.length,h=g.filter(":selected").index();if(h!=-1){g[h]=null;f--;if(h==0){if(f>0)g[0].selected=
"selected"}else if(f>h)g[h].selected="selected";else g[h-1].selected="selected";writeREX(a,b,d)}};moveREX=function(a,b,d,g){for(var f=e("#"+d+a+" option"),h=[],i=[],c=0;c<f.length;++c){i[c]=false;h[c]={value:f[c].value,title:f[c].text}}var k=0,j=[];j[-1]=true;j[f.length]=true;if(g=="top")for(c=0;c<f.length;++c)if(f[c].selected){h=moveItem(h,c,k);i[k]=true;k++}if(g=="up")for(c=0;c<f.length;++c){j[c]=false;if(f[c].selected){to=c-1;if(j[to])to=c;h=moveItem(h,c,to);i[to]=true;j[to]=true}}if(g=="down")for(c=
f.length-1;c>=0;--c){j[c]=false;if(f[c].selected){to=c+1;if(j[to])to=c;h=moveItem(h,c,to);i[to]=true;j[to]=true}}if(g=="bottom"){k=0;for(c=f.length-1;c>=0;--c)if(f[c].selected){to=sourcelength-k-1;if(to>f.length)to=f.length;h=moveItem(h,c,to);i[to]=true;k++}}for(c=0;c<f.length;++c){f[c]=new Option(h[c].title,h[c].value);f[c].selected=i[c]}writeREX(a,b,d)};writeREX=function(a,b,d){d=e("#"+d+a+" option");a=e("#"+b+a);b=[];for(var g=0;g<d.length;++g)b.push(d[g].text);a.val(b.join(","))};moveItem=function(a,
b,d){if(b==d||d<0)return a;tmp=a[b];if(b>d)for(index=b;index>d;index--)a[index]=a[index-1];else for(index=b;index<d;index++)a[index]=a[index+1];a[d]=tmp;return a};checkInput=function(a){e("#"+a).attr("checked","checked")}})(jQuery);
jQuery(function(e){function a(){var b;b=e(this).hasClass("rex-widget-media")?e("input[type=text]",this).val():e("select option:selected",this).text();var d=e(".rex-media-preview",this),g="../index.php?rex_resize=246a__"+b;if(b&&b.length!=0&&e.inArray(extension,imageExtensions)){b=e("img",d);if(b.length==0){d.html("<img />");b=e("img",d)}b.attr("src",g);d.css("height")=="auto"&&d.fadeIn("normal")}else d.slideUp("fast")}pageloaded=true;e("#rex-form-mediapool-media .sly-button-delete").click(function(){if(confirm(e(this).attr("rel")+
"?"))e("#media_method").val("delete_selectedmedia");else return false});e("#rex-form-mediapool-media .sly-button-changecat").click(function(){e("#media_method").val("updatecat_selectedmedia")});e("a.sly-blank").attr("target","_blank");e(".rex-widget-medialist.rex-widget-preview").click(a);e(".rex-widget-media.rex-widget-preview, .rex-widget-medialist.rex-widget-preview").bind("mousemove",a).bind("mouseleave",function(){var b=e(".rex-media-preview",this);b.css("height")!="auto"&&b.slideUp("normal")})});
